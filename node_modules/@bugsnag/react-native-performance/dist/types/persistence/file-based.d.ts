import type { Persistence, PersistenceKey, PersistencePayloadMap } from '@bugsnag/core-performance';
import type { ReadWriteFile, ReadableFile } from './file';
export default class FileBasedPersistence implements Persistence {
    private readonly file;
    private readonly nativeDeviceIdFile;
    private readonly nativeDeviceIdJsonKey;
    private saveQueue;
    constructor(file: ReadWriteFile, nativeDeviceIdFile: ReadableFile);
    load<K extends PersistenceKey>(key: K): Promise<PersistencePayloadMap[K] | undefined>;
    save<K extends PersistenceKey>(key: K, value: PersistencePayloadMap[K]): Promise<void>;
    private readJson;
    private readDeviceIdFromNativeSdk;
}
//# sourceMappingURL=file-based.d.ts.map